<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>homework14</title>
</head>

<body>
    <script>
        function student(name, surname, birthYear) {
            this.name = name;
            this.surname = surname;
            this.birthYear = birthYear;
            this.attendance = new Array(10);
            this.marks = new Array(10);
        }

        student.prototype.age = function() {
            return new Date().getFullYear() - this.birthYear;
        };

        student.prototype.averageMark = function(marks = this.marks) {
            let marksCount = 0;
            let allMarks = 0;

            for (let i = 0; i < marks.length; i++) {
                if (marks[i] !== undefined) {
                    ++marksCount;
                    allMarks += marks[i];
                }
                
            }

            return allMarks / marksCount;
        };

        student.prototype.mark = function(mark) {
            for (let i = 0; i < this.marks.length; i++) {
                if (this.marks[i] === undefined && mark >= 0 && mark <= 10) {
                    this.marks[i] = mark;
                    break;
                }
                
            }
        };

        student.prototype.present = function() {
            for (let i = 0; i< this.attendance.length; i++) {
                if (this.attendance[i] === undefined) {
                    this.attendance[i] = true;
                    break;
                }
               
            }
        };

        student.prototype.absent = function() {
            for (let i = 0; i< this.attendance.length; i++) {
                if (this.attendance[i] === undefined) {
                    this.attendance[i] = false;
                    break;
                }
               
            }
        };

        student.prototype.summary = function() {
            const averageAttendance = this.averageMark(this.attendance);

            if (this.averageMark() >= 9 && averageAttendance >= 0.9) {
                return "Ути какой молодчинка!";
            }

            if (this.averageMark() < 9 && averageAttendance < 0.9) {
                return  "Редиска!";
            }

            if (this.averageMark() < 9 || averageAttendance < 0.9) {
                return "Норм, но можно лучше"
            }
        }

        const student1 = new student('Oleg', 'Petrenko', 1995);
        const student2 = new student('Ivan', 'Stepanenko', 1999);
        const student3 = new student('Petr', 'Dubrenko', 2001);

        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.mark(7);
        student1.mark(8);
        student1.mark(5);
        student1.mark(10);
        student1.mark(9);
        student1.mark(6);
        student1.mark(10);
        student1.mark(10);
        student1.mark(10);
        student1.mark(0);
        console.log('1)', student1.name, student1.surname, student1);
        console.log('age:', student1.age());
        console.log('Average Mark:', student1.averageMark());
        console.log('Summary:', student1.summary());

        student2.present();
        student2.present();
        student2.present();
        student2.present();
        student2.absent();
        student2.present();
        student2.present();
        student2.present();
        student2.present();
        student2.present();
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(10);
        student2.mark(0);
        console.log('2)', student2.name, student2.surname, student2);
        console.log('age:', student2.age());
        console.log('Average Mark:', student2.averageMark());
        console.log('Summary:', student2.summary());

        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.absent();
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        student3.mark(0);
        console.log('3)', student3.name, student3.surname, student3);
        console.log('age:', student3.age());
        console.log('Average Mark:', student3.averageMark());
        console.log('Summary:', student3.summary());
    </script>
</body>
</html>